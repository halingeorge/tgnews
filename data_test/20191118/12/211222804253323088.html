<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta property="og:url" content="https://xakep.ru/2019/11/18/chrome-wsod/"/>
    <meta property="og:site_name" content="«Хакер»"/>
    <meta property="article:published_time" content="2019-11-18T12:30:41+00:00"/>
    <meta property="og:title" content="Эксперимент разработчиков Chrome вызвал сбои браузера по всему миру"/>
    <meta property="og:description" content="Компании возмущены действиями инженеров Google, из-за которых у них практически перестал работать Chrome, показывая «белый экран смерти», что неизбежно повлияло и на весь рабочий процесс сотрудников."/>
  </head>
  <body>
    <article>
      <h1>Эксперимент разработчиков Chrome вызвал сбои браузера по всему миру</h1>
      <address><time datetime="2019-11-18T12:30:41+00:00">18 Nov 2019, 12:30</time> by <a rel="author" href="https://xakep.ru/" target="_blank">Мария Нефёдова</a></address>
      <p>Журналисты издания <a href="https://www.zdnet.com/article/google-chrome-experiment-crashes-browser-tabs-impacts-companies-worldwide/">ZDNet</a> обратили внимание на интересный инцидент, произошедший на прошлой неделе: эксперимент компании Google вызвал волну негодования среди корпоративных пользователей. У множества людей практически перестал работать Chrome, показывая «белый экран смерти» (WSOD). Проблема проявилась только на терминальных серверах, работающих под управлением Windows Server.</p>
      <p>Все началось 13 ноября 2019 года, в минувшую среду.  <a href="https://support.google.com/chrome/thread/19713332?hl=en">Форум поддержки Google</a>, <a href="https://bugs.chromium.org/p/chromium/issues/detail?id=1024837">баг-трекер Chrome</a> и Reddit (<a href="https://old.reddit.com/r/chrome/comments/dw1wgb/chrome_78_having_intermittent_tab_hangs_crashes/">1</a>, <a href="https://old.reddit.com/r/chrome/comments/dwjg0b/getting_a_bit_miffed_with_chrome_at_the_moment/">2</a>) стали полниться сообщениями от системных администраторов, заявляющих  о массовых проблемах в работе с Chrome. Пострадавшие утверждали, что вкладки в Chrome внезапно стали пустыми и демонстрировали WSOD, из-за чего браузером не могли пользоваться тысячи сотрудников, ведь активная вкладка пустела прямо во время работы.  В корпоративных средах сотрудники попросту не имели возможности сменить браузер и фактически лишились возможности выполнить свои обязанности.</p>
      <p>Администраторы компаний и организаций жаловались, что пострадали тысячи сотрудников, и было потрачено множество часов в попытках устранить проблему. Некоторые и вовсе сочли, что пустые вкладки –  это признак атаки малвари и экстренно запустили аудит безопасности в своих сетях. Разумеется, все это не могло не вылиться в финансовый ущерб для пострадавших.</p>
      <p>Как оказалось, причиной массового сбоя стал эксперимент инженеров Google. Они тестировали экспериментальную функцию под названием <a href="https://docs.google.com/document/d/1tPuJE0Vws7oskjjqrawNfMkwFtGxyHV33yQagiplVfY/edit">WebContents Occlusion</a>, которая приостанавливает работу вкладок в Chrome, когда пользователь перемещает окна других приложений поверх Chrome, и активная вкладка, по сути, становится фоновой. Как не трудно догадаться, функция предназначена для улучшения производительности браузера и оптимизации использования ресурсов. Ранее она тестировалась в Chrome Canary и Chrome Beta, но теперь разработчики решили включить ее в стабильной ветке, чтобы собрать больше данных. Сначала функцию активировали на месяц примерно для 1% пользователей в стабильных релизах M77 и M78, а когда проблем не возникло, включили и для всех остальных.</p>
      <p>К сожалению, оказалось, что при работе на терминальных серверах под управлением Windows Server возникает ошибка: вместо приостановки работы вкладок при переключении на другое приложение браузер полностью выгружал эти вкладки, оставляя лишь пустые страницы.</p>
      <p>В настоящее время разработчики Chrome уже остановили эксперимент и срочно передали новый файл конфигурации всем пользователям браузера с помощью системы Finch, позволяющей им изменять настройки в активных установках Chrome. Тем, для кого исправление по какой-то причине не сработало, рекомендуется вручную отключить следующие экспериментальные настройки:</p>
      <p>chrome://flags/#web-contents-occlusion<br/>chrome://flags/#calculate-native-win-occlusion</p>
      <figure>
        <img src="https://xakep.ru/wp-content/uploads/2019/11/248682/chrome-occlusion.png#26759185"/>
      </figure>
      <p>Однако такое решение проблемы спровоцировало еще большее возмущение со стороны системных администраторов. Дело в том, что многие даже не подозревали, что инженеры Chrome могут проводить подобные эксперименты, не говоря о том, что они так же могут отправлять любые изменения в браузеры пользователей без какого-либо предварительного одобрения. ZDNet цитирует сообщения пострадавших администраторов:</p>
      <blockquote>«Вы видите, какое воздействие оказали на тысячи из нас без каких-либо предупреждений или объяснений? Мы не ваши подопытные. Мы предоставляем профессиональные услуги для многомиллионных программ. Вы понимаете, сколько часов было потрачено впустую из-за вашего “эксперимента”?».</blockquote>
      <blockquote>«Сколько десятков тысяч долларов этот “упс” будет всем стоить? Это уже выглядит как весьма  крупная ошибка со стороны Google».</blockquote>
    </article>
  </body>
</html>